\ifxeorlua
  \RequirePackage{fontspec}
  \defaultfontfeatures{Ligatures={TeX}} % This enables TeX style ligatures such as ---, '', ``, and so on
  \setmainfont{TeX Gyre Termes}  %% Times like font
  \setsansfont{TeX Gyre Heros}   %% Helvetica like font
  \setmonofont{TeX Gyre Cursor}  %% Courier like font
  \newfontfamily\pageNumberFont{TeX Gyre Termes}
  \usepackage{mathtools}
  \usepackage[warnings-off={mathtools-colon,mathtools-overbracket}]{unicode-math}
  % Choose a math font
  % The [version=bold, FakeBold=1.2] is to avoid warnings about lack of bold font
  \setmathfont{TeX Gyre Pagella Math}[version=normal]
  \setmathfont{TeX Gyre Pagella Math}[version=bold, BoldFeatures={FakeBold=1.5}]
  %\setmathfont{TeX Gyre Pagella Math}
  %\setmathfont{STIX Two Math}[version=bold, FakeBold=1.2] %% a font for math - even more glyphs
  %\setmathfont{STIX Two Math}[BoldFeatures={FakeBold=1.5}]
  \newfontfamily\mystixtextfont{STIX Two Text}
  \newfontfamily\greekfont[Script=Greek]{Noto Serif}
  \newfontfamily\hindifont[Script=Devanagari]{Noto Sans Devanagari}
  \newfontfamily\russianfont[Script=Cyrillic]{Noto Serif}
  \newfontfamily\cjkfont[Script=CJK]{Noto Sans Mono CJK SC}
  
\else
  \RequirePackage[T1]{fontenc}
  \RequirePackage{tgtermes}
  \RequirePackage{tgheros}
  \RequirePackage{tgcursor}
\fi


% The Overleaf TeX Live includes these fonts, so there is little you have to do!
% The list of such fonts is at https://www.overleaf.com/learn/latex/Questions%2FWhich_OTF_or_TTF_fonts_are_supported_via_fontspec%3F
%
\newfontfamily{\NotoSansJPFont}[Ligatures=TeX,
 Mapping=tex-text,
    ]{Noto Sans Mono CJK JP}

\newfontfamily{\NotoSansFont}[Ligatures=TeX,
    Mapping=tex-text,
    ]{Noto Sans}
    
\newfontfamily{\NotoSerifFont}[Ligatures=TeX,
    Mapping=tex-text,
    ]{Noto Serif}

% for new KTH cover
% Load the Arial font as it is used for the KTH covers
% 
\ifluatex
\newfontfamily\coverlfont[Ligatures=TeX]{Arial}
    
\newfontfamily\coverbfont[Ligatures=TeX]{Arial Bold}
\else
\ifxetex
\newfontfamily\coverlfont[Mapping=tex-text]{Arial}
    
\newfontfamily\coverbfont[Mapping=tex-text]{Arial Bold}
%\newfontfamily\coversbfont[Mapping=tex-text]{Arial Medium}
\else
\newcommand\coverlfont{\fontfamily{helvet}\selectfont\sffamily}
\newcommand\coverbfont{\fontfamily{helvet}\selectfont\sffamily\bfseries}
\fi
\fi
